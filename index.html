<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Previewer by publiclyviewed</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="your-other-stylesheet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/15.0.3/marked.min.js" integrity="sha512-7aRjMGJX+VgTMGWgWLpQxavdTKRc2LwCTAS4LmB7OLwGTpH84ehHQoAY/y1fUfprr2yMFC6toDLHpbGaDth9VQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="//cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
    <script defer src="script.js"></script>
</head>
<body>
    <div class="container mt-4">
        <h1 class="text-center">Markdown Previewer by publiclyviewed</h1>
        <div class="row mt-4">
            <div class="col-md-6">
                <h3>Editor</h3>
                <textarea id="editor" class="form-control" rows="15" oninput="updatePreview()"></textarea>
            </div>
            <div class="col-md-6">
                <h3>Preview</h3>
                <div id="preview" class="p-3 border"></div>
            </div>
        </div>
    </div>

    <script>
        const defaultText = `
# The syntax(?) for H1 Header
## The syntax(?) for H2 Subheader
[Link to example](http://example.com)
Inline code: \`<div></div>\`
\`\`\`
// Code block
function example() {
  console.log("Code block example");
}
\`\`\`
- List item
> Blockquote
![Image](https://via.placeholder.com/150)
**Bolded text**
        `;
        marked.setOptions({
            gfm: true,
            breaks: true,
        });
        function initializeApp() {
            const editor = document.getElementById("editor");
            const preview = document.getElementById("preview");

            editor.value = defaultText;
            preview.innerHTML = marked.parse(defaultText);  // Using marked.parse() for correct parsing
            applySyntaxHighlighting();
        }

        function updatePreview() {
            const editorValue = document.getElementById("editor").value;
            const preview = document.getElementById("preview");

            preview.innerHTML = marked.parse(editorValue);  // Using marked.parse() for correct parsing
            applySyntaxHighlighting();
        }

        function applySyntaxHighlighting() {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightElement(block);  // Using highlightElement for highlighting
            });
        }

        window.onload = initializeApp;
    </script>
  <script src="//cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
</body>
</html>
